import{a as bi,b as Ei,c as Ti,e as Mi,f as Ci}from"./chunk-BJVU4SKA.js";import{oa as xi,qa as wi,qc as yi}from"./chunk-R4R24XFF.js";import{$b as Pt,$c as vi,Ac as mi,Ba as yt,Ca as ti,Cc as gi,Da as ii,Ea as ei,Ib as ri,Ob as ai,Va as ni,Wb as hi,Xb as li,Yb as fi,Zb as lt,_b as et,a as Jt,gc as ci,ic as ui,mc as di,nb as oi,sa as Qt,sb as bt,sc as ft,tb as si,uc as pi}from"./chunk-EW3RQAEJ.js";var zi=function(t,i){return new zi.fn.init(t,i)},r=zi;var b=window.document,D=[],Si=D.concat,Et=D.filter,W=D.slice,Tt={},Mt={},Hi={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},Ft=/^\s*<(\w+|!)[^>]*>/,_i=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Li=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Wt=/^(?:body|html)$/i;var Di=["val","css","html","text","data","width","height","offset"],Rt=b.createElement("table"),$i=b.createElement("tr"),Bt={tr:b.createElement("tbody"),tbody:Rt,thead:Rt,tfoot:Rt,td:$i,th:$i,"*":b.createElement("div")},Vi=/^[\w-]*$/,ct={},Ni=ct.toString,jt=b.createElement("div");var G=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"},k=b.documentElement.contains?function(t,i){return t!==i&&t.contains(i)}:function(t,i){for(;i&&(i=i.parentNode);)if(i===t)return!0;return!1};function K(t){return t==null?String(t):ct[Ni.call(t)]||"object"}function nt(t){return typeof t=="string"}function N(t){return K(t)=="function"}function J(t){return t!=null&&t==t.window}function Ct(t){return t!=null&&t.nodeType==t.DOCUMENT_NODE}function U(t){return K(t)=="object"}function Y(t){return U(t)&&!J(t)&&Object.getPrototypeOf(t)==Object.prototype}function zt(t){var i=!!t&&"length"in t&&t.length,e=K(t);return e!="function"&&!J(t)&&(e=="array"||i===0||typeof i=="number"&&i>0&&i-1 in t)}function Ii(t){return Et.call(t,function(i){return i!=null})}function ot(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function kt(t,i){return typeof i=="number"&&!Hi[ot(t)]?i+"px":i}function $t(t){return t.replace(/-+(.)?/g,function(i,e){return e?e.toUpperCase():""})}function Ut(t){return t in Mt?Mt[t]:Mt[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function Ai(t){var i,e;return Tt[t]||(i=b.createElement(t),b.body.appendChild(i),e=getComputedStyle(i,"").getPropertyValue("display"),i.parentNode.removeChild(i),e=="none"&&(e="block"),Tt[t]=e),Tt[t]}function Oi(t){return t.length>0?r.fn.concat.apply([],t):t}function st(t){return t instanceof r}function A(t,i,e,n){return N(i)?i.call(t,e,n):i}function St(t,i,e){e==null?t.removeAttribute(i):t.setAttribute(i,e)}function Q(t,i){var e=t.className||"",n=e&&e.baseVal!==void 0;if(i===void 0)return n?e.baseVal:e;n?e.baseVal=i:t.className=i}function Pi(t,i){return t.nodeName&&t.nodeName.toLowerCase()===i.toLowerCase()}r.fn=r.prototype={constuctor:r,length:0,forEach:D.forEach,reduce:D.reduce,push:D.push,sort:D.sort,splice:D.splice,indexOf:D.indexOf,init:function(t,i){var e;if(t)if(typeof t=="string")if(t=t.trim(),t[0]=="<"&&Ft.test(t))e=r.fragment(t,RegExp.$1,i),t=null;else{if(i!==void 0)return r(i).find(t);e=r.qsa(b,t)}else{if(N(t))return r(b).ready(t);if(st(t))return t;if(G(t))e=Ii(t);else if(U(t))e=[t],t=null;else{if(i!==void 0)return r(i).find(t);e=r.qsa(b,t)}}else return this;return r.makeArray(e,t,this)},concat:function(){var t,i,e=[];for(t=0;t<arguments.length;t++)i=arguments[t],e[t]=st(i)?i.toArray():i;return Si.apply(st(this)?this.toArray():this,e)},pluck:function(t){return r.map(this,function(i){return i[t]})},toArray:function(){return this.get()},get:function(t){return t===void 0?W.call(this):this[t>=0?t:t+this.length]},size:function(){return this.length},each:function(t){return D.every.call(this,function(i,e){return t.call(i,e,i)!==!1}),this},map:function(t){return r(r.map(this,function(i,e){return t.call(i,e,i)}))},slice:function(){return r(W.apply(this,arguments))},first:function(){var t=this[0];return t&&!U(t)?t:r(t)},last:function(){var t=this[this.length-1];return t&&!U(t)?t:r(t)},eq:function(t){return t===-1?this.slice(t):this.slice(t,+t+1)}};r.extend=r.fn.extend=function(){var t,i,e,n,o,s,a=arguments[0]||{},l=1,c=arguments.length,d=!1;for(typeof a=="boolean"&&(d=a,a=arguments[l]||{},l++),typeof a!="object"&&!N(a)&&(a={}),l===c&&(a=this,l--);l<c;l++)if((t=arguments[l])!=null)for(i in t)e=a[i],n=t[i],a!==n&&(d&&n&&(Y(n)||(o=G(n)))?(o?(o=!1,s=e&&G(e)?e:[]):s=e&&Y(e)?e:{},a[i]=r.extend(d,s,n)):n!==void 0&&(a[i]=n));return a};r.extend({makeArray:function(t,i,e){var n,o=t?t.length:0;for(n=0;n<o;n++)e[n]=t[n];return e.length=o,e.selector=i||"",e},merge:function(t,i){for(var e=+i.length,n=0,o=t.length;n<e;n++)t[o++]=i[n];return t.length=o,t},qsa:function(t,i){var e,n=i[0]=="#",o=!n&&i[0]==".",s=n||o?i.slice(1):i,a=Vi.test(s);return t.getElementById&&a&&n?(e=t.getElementById(s))?[e]:[]:t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11?[]:W.call(a&&!n&&t.getElementsByClassName?o?t.getElementsByClassName(s):t.getElementsByTagName(i):t.querySelectorAll(i))},fragment:function(t,i,e){var n,o,s;return _i.test(t)&&(n=r(b.createElement(RegExp.$1))),n||(t.replace&&(t=t.replace(Li,"<$1></$2>")),i===void 0&&(i=Ft.test(t)&&RegExp.$1),i in Bt||(i="*"),s=Bt[i],s.innerHTML=""+t,n=r.each(W.call(s.childNodes),function(){s.removeChild(this)})),Y(e)&&(o=r(n),r.each(e,function(a,l){Di.indexOf(a)>-1?o[a](l):o.attr(a,l)})),n},matches:function(t,i){if(!i||!t||t.nodeType!==1)return!1;var e=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(e)return e.call(t,i);var n,o=t.parentNode,s=!o;return s&&(o=jt).appendChild(t),n=~r.qsa(o,i).indexOf(t),s&&jt.removeChild(t),n},each:function(t,i){var e,n;if(zt(t)){for(e=0;e<t.length;e++)if(i.call(t[e],e,t[e])===!1)return t}else for(n in t)if(i.call(t[n],n,t[n])===!1)return t;return t},map:function(t,i){var e,n=[],o,s;if(zt(t))for(o=0;o<t.length;o++)e=i(t[o],o),e!=null&&n.push(e);else for(s in t)e=i(t[s],s),e!=null&&n.push(e);return Oi(n)}});r.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,i){ct["[object "+i+"]"]=i.toLowerCase()});r.fn.init.prototype=r.fn;function Ri(){}function Fi(t,i){if(arguments.length<2){var e=this[0];if(typeof t=="string")return e?e.style[$t(t)]||getComputedStyle(e,"").getPropertyValue(t):void 0;if(G(t)){if(!e)return;var n={},o=getComputedStyle(e,"");return r.each(t,function(l,c){n[c]=e.style[$t(c)]||o.getPropertyValue(c)}),n}}var s="";if(K(t)=="string")!i&&i!==0?this.each(function(){this.style.removeProperty(ot(t))}):s=ot(t)+":"+kt(t,i);else for(var a in t)!t[a]&&t[a]!==0?this.each(function(){this.style.removeProperty(ot(a))}):s+=ot(a)+":"+kt(a,t[a])+";";return this.each(function(){this.style.cssText+=";"+s})}function Wi(t){return t?D.some.call(this,function(i){return this.test(Q(i))},Ut(t)):!1}function Bi(t){var i=[];return t?this.each(function(e){if("className"in this){i=[];var n=Q(this),o=A(this,t,e,n);o.split(/\s+/g).forEach(function(s){r(this).hasClass(s)||i.push(s)},this),i.length&&Q(this,n+(n?" ":"")+i.join(" "))}}):this}function ji(t){var i=[];return this.each(function(e){if("className"in this){if(t===void 0)return Q(this,"");i=Q(this),A(this,t,e,i).split(/\s+/g).forEach(function(n){i=i.replace(Ut(n)," ")}),Q(this,i.trim())}})}function ki(t){if(t)return this.each(function(e){var n=r(this),o=A(this,t,e,n.offset()),s=n.offsetParent().offset(),a={top:o.top-s.top,left:o.left-s.left};n.css("position")=="static"&&(a.position="relative"),n.css(a)});if(!this.length)return null;if(b.documentElement!==this[0]&&!k(b.documentElement,this[0]))return{top:0,left:0};var i=this[0].getBoundingClientRect();return{left:i.left+window.pageXOffset,top:i.top+window.pageYOffset,width:Math.round(i.width),height:Math.round(i.height)}}function Ui(){if(this.length){var t=this[0],i,e=this.offsetParent(),n=Wt.test(e[0].nodeName)?{top:0,left:0}:e.offset();return r(t).css("position")==="fixed"?i=t.getBoundingClientRect():(i=this.offset(),n.top+=parseFloat(r(e[0]).css("border-top-width"))||0,n.left+=parseFloat(r(e[0]).css("border-left-width"))||0),{top:i.top-n.top-parseFloat(r(t).css("margin-top"))||0,left:i.left-n.left-parseFloat(r(t).css("margin-left"))||0}}}function Yi(t){if(this.length){var i="scrollTop"in this[0];return t===void 0?i?this[0].scrollTop:J(this[0])?this[0].pageYOffset:this[0].defaultView.pageYOffset:this.each(i?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}}function qi(t){if(this.length){var i="scrollLeft"in this[0];return t===void 0?i?this[0].scrollLeft:J(this[0])?this[0].pageXOffset:this[0].defaultView.pageXOffset:this.each(i?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}}function Xi(){return this.map(function(){for(var t=this.offsetParent||b.body;t&&!Wt.test(t.nodeName)&&r(t).css("position")=="static";)t=t.offsetParent;return t})}function Zi(t,i){var e;return typeof t=="string"&&!(1 in arguments)?0 in this&&this[0].nodeType==1&&(e=this[0].getAttribute(t))!=null?e:void 0:this.each(function(n){if(this.nodeType===1)if(U(t))for(var o in t)St(this,o,t[o]);else St(this,t,A(this,i,n,this.getAttribute(t)))})}function Gi(t){return this.each(function(){this.nodeType===1&&t.split(" ").forEach(function(i){St(this,i)},this)})}function Ki(t){var i,e=this;return t?typeof t=="object"?i=r(t).filter(function(){var n=this;return D.some.call(e,function(o){return k(o,n)})}):this.length==1?i=r(r.qsa(this[0],t)):i=this.map(function(){return r.qsa(this,t)}):i=r(),i}function Ji(t,i){var e=[],n=typeof t=="object"&&r(t);return this.each(function(o,s){for(;s&&!(n?n.indexOf(s)>=0:r.matches(s,t));)s=s!==i&&!Ct(s)&&s.parentNode;s&&e.indexOf(s)<0&&e.push(s)}),r(e)}function sn(){var t=window.navigator.userAgent,i=t.indexOf("MSIE ");return i>0||!!navigator.userAgent.match(/Trident.*rv:11\./)}function rn(t,i){var e={width:["padding-left","padding-right","border-left-width","border-right-width"],height:["padding-top","padding-bottom","border-top-width","border-bottom-width"]};return t.css("box-sizing")==="border-box"&&!sn()?parseFloat(t.css(i))-parseFloat(t.css(e[i][0]))-parseFloat(t.css(e[i][1]))-parseFloat(t.css(e[i][2]))-parseFloat(t.css(e[i][3])):parseFloat(t.css(i))}function Qi(t,i){var e=t.replace(/./,function(o){return o[0].toUpperCase()}),n=this[0];return i===void 0?J(n)?n.document.documentElement["client"+e]:Ct(n)?n.documentElement["scroll"+e]:rn(this,t):this.each(function(o){n=r(this),n.css(t,A(this,i,o,n[t]()))})}function te(t){return Qi.call(this,"width",t)}function ie(t){return Qi.call(this,"height",t)}var an=1,at={},ne="onfocusin"in window,oe={focus:"focusin",blur:"focusout"},se={mouseenter:"mouseover",mouseleave:"mouseout"},hn=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,ee=function(){return!0},Ht=function(){return!1},ln={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function rt(t){return t._zid||(t._zid=an++)}function _t(t,i){if(i||!t.isDefaultPrevented){i||(i=t),r.each(ln,function(e,n){var o=i[e];t[e]=function(){return this[n]=ee,o&&o.apply(i,arguments)},t[n]=Ht});try{t.timeStamp||(t.timeStamp=Date.now())}catch(e){console.warn(e)}(i.defaultPrevented!==void 0?i.defaultPrevented:"returnValue"in i?i.returnValue===!1:i.getPreventDefault&&i.getPreventDefault())&&(t.isDefaultPrevented=ee)}return t}function re(t){var i=(""+t).split(".");return{e:i[0],ns:i.slice(1).sort().join(" ")}}function fn(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function ae(t,i,e,n){if(i=re(i),i.ns)var o=fn(i.ns);return(at[rt(t)]||[]).filter(function(s){return s&&(!i.e||s.e==i.e)&&(!i.ns||o.test(s.ns))&&(!e||rt(s.fn)===rt(e))&&(!n||s.sel==n)})}function he(t,i){return t.del&&!ne&&t.e in oe||!!i}function le(t){return se[t]||ne&&oe[t]||t}function fe(t,i,e,n,o,s,a){var l=rt(t),c=at[l]||(at[l]=[]);i.split(/\s/).forEach(function(d){if(d=="ready")return r(b).ready(e);var h=re(d);h.fn=e,h.sel=o,h.e in se&&(e=function(f){var v=f.relatedTarget;if(!v||v!==this&&!k(this,v))return h.fn.apply(this,arguments)}),h.del=s;var w=s||e;h.proxy=function(f){if(f=_t(f),!f.isImmediatePropagationStopped()){f.data=n;var v=w.apply(t,f._args==null?[f]:[f].concat(f._args));return v===!1&&(f.preventDefault(),f.stopPropagation()),v}},h.i=c.length,c.push(h),"addEventListener"in t&&t.addEventListener(le(h.e),h.proxy,he(h,a))})}function ut(t,i,e,n,o){var s=rt(t);(i||"").split(/\s/).forEach(function(a){ae(t,a,e,n).forEach(function(l){delete at[s][l.i],"removeEventListener"in t&&t.removeEventListener(le(l.e),l.proxy,he(l,o))})})}function ce(t){var i,e={originalEvent:t};for(i in t)!hn.test(i)&&t[i]!==void 0&&(e[i]=t[i]);return _t(e,t)}function ue(t,i){i(t);for(var e=0,n=t.childNodes.length;e<n;e++)ue(t.childNodes[e],i)}function cn(t,i,e,n){var o,s=r.map(i,function(c){var d=[];return o=K(c),o=="array"?(c.forEach(function(h){if(h.nodeType!==void 0)return d.push(h);if(st(h))return d=d.concat(h.get());d=d.concat(r.fragment(h))}),d):o=="object"||c==null?c:r.fragment(c)}),a,l=t.length>1;return s.length<1?t:t.each(function(c,d){a=n?d:d.parentNode;var h=k(b.documentElement,a);s.forEach(function(w){if(l)w=w.cloneNode(!0);else if(!a)return r(w).remove();e.call(d,w),h&&ue(w,function(f){if(f.nodeName!=null&&f.nodeName.toUpperCase()==="SCRIPT"&&(!f.type||f.type==="text/javascript")&&!f.src){var v=f.ownerDocument?f.ownerDocument.defaultView:window;v.eval.call(v,f.innerHTML)}})})})}function un(t,i){var e;return typeof t.getElementsByTagName<"u"?e=t.getElementsByTagName(i||"*"):typeof t.querySelectorAll<"u"?e=t.querySelectorAll(i||"*"):e=[],i===void 0||i&&Pi(t,i)?r.merge([t],e):e}function dn(t){for(var i,e,n=0;(e=t[n])!==void 0;n++)e._zid&&(i=at[e._zid])&&i.forEach(o=>{let s=o.e+"."+o.ns.split(" ").join(".");ut(e,s,o.fn,o.sel)})}function de(){return this.each(function(){this.nodeType===1&&dn(un(this)),this.parentNode!=null&&this.parentNode.removeChild(this)})}function pe(){return this.each(function(){this.innerHTML=""})}function me(t){return 0 in arguments?this.each(function(i){var e=this.innerHTML;r(this).empty().append(A(this,t,i,e))}):0 in this?this[0].innerHTML:null}function ge(){return cn(this,arguments,function(t){this.insertBefore(t,null)},!0)}function ve(t,i,e,n,o){var s,a,l=this;return t&&!nt(t)?(r.each(t,function(c,d){l.on(c,i,e,d,o)}),l):(!nt(i)&&!N(n)&&n!==!1&&(n=e,e=i,i=void 0),(n===void 0||e===!1)&&(n=e,e=void 0),n===!1&&(n=Ht),l.each(function(c,d){o&&(s=function(h){return ut(d,h.type,n),n.apply(this,arguments)}),i&&(a=function(h){var w,f=r(h.target).closest(i,d).get(0);if(f&&f!==d)return w=r.extend(ce(h),{currentTarget:f,liveFired:d}),(s||n).apply(f,[w].concat(W.call(arguments,1)))}),fe(d,t,n,e,i,a||s)}))}function xe(t,i,e){var n=this;return t&&!nt(t)?(r.each(t,function(o,s){n.off(o,i,s)}),n):(!nt(i)&&!N(e)&&e!==!1&&(e=i,i=void 0),e===!1&&(e=Ht),n.each(function(){ut(this,t,e,i)}))}var R="",dt,pn={Webkit:"webkit",Moz:"",O:"o"},Lt=b.createElement("div"),we=Lt.style.transitionProperty;Lt.style.transform===void 0&&r.each(pn,function(t,i){if(Lt.style[t+"TransitionProperty"]!==void 0)return R="-"+t.toLowerCase()+"-",dt=i,!1});Lt=null;function ye(t){return dt?dt+t:t.toLowerCase()}r.fx={off:dt===void 0&&we===void 0,speeds:{_default:400,fast:200,slow:600},cssPrefix:R,transitionEnd:ye("TransitionEnd"),animationEnd:ye("AnimationEnd")};var mn=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,Yt,be,Ee,Te,Me,Ce,ze,$e,Se,q={};function gn(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}Yt=R+"transform";q[be=R+"transition-property"]=q[Ee=R+"transition-duration"]=q[Me=R+"transition-delay"]=q[Te=R+"transition-timing-function"]=q[Ce=R+"animation-name"]=q[ze=R+"animation-duration"]=q[Se=R+"animation-delay"]=q[$e=R+"animation-timing-function"]="";function He(t,i,e,n,o){var s,a={},l,c="",d=this,h,w=r.fx.transitionEnd,f=!1;if(i===void 0&&(i=r.fx.speeds._default/1e3),o===void 0&&(o=0),r.fx.off&&(i=0),typeof t=="string")a[Ce]=t,a[ze]=i+"s",a[Se]=o+"s",a[$e]=e||"linear",w=r.fx.animationEnd;else{l=[];for(s in t)mn.test(s)?c+=s+"("+t[s]+") ":(a[s]=t[s],l.push(gn(s)));c&&(a[Yt]=c,l.push(Yt)),i>0&&typeof t=="object"&&(a[be]=l.join(", "),a[Ee]=i+"s",a[Me]=o+"s",a[Te]=e||"linear")}return h=function(v){if(typeof v<"u"){if(v.target!==v.currentTarget)return;r(v.target).off(w,h)}else r(this).off(w,h);f=!0,r(this).css(q),n&&n.call(this)},i>0&&(this.on(w,h),setTimeout(function(){f||h.call(d)},(i+o)*1e3+25)),this.size()&&this.get(0).clientLeft,this.css(a),i<=0&&setTimeout(function(){d.each(function(){h.call(this)})},0),this}function _e(t,i,e,n,o){return N(i)&&(n=i,e=void 0,i=void 0),N(e)&&(n=e,e=void 0),Y(i)&&(e=i.easing,n=i.complete,o=i.delay,i=i.duration),i&&(i=(typeof i=="number"?i:r.fx.speeds[i]||r.fx.speeds._default)/1e3),o&&(o=parseFloat(o)/1e3),this.anim(t,i,e,n,o)}function Le(){return this.each(function(){this.style.display=="none"&&(this.style.display=""),getComputedStyle(this,"").getPropertyValue("display")=="none"&&(this.style.display=Ai(this.nodeName))})}function De(){return this.css("display","none")}function qt(t,i,e,n,o){typeof i=="function"&&!o&&(o=i,i=void 0);var s={opacity:e};return n&&(s.scale=n,t.css(r.fx.cssPrefix+"transform-origin","0 0")),t.animate(s,i,null,o)}function vn(t,i,e,n){return qt(t,i,0,e,function(){De.call(r(this)),n&&n.call(this)})}function Ve(t,i){return Le.call(this),t===void 0?t=0:this.css("opacity",0),qt(this,t,1,"1,1",i)}function Ne(t,i){return t===void 0?De.call(this):vn(this,t,"0,0",i)}function Ie(t,i,e){return qt(this,t,i,null,e)}function Ae(t,i){var e=this.css("opacity");return e>0?this.css("opacity",0):e=1,Le.call(this).fadeTo(t,e,i)}var xn={isPlainObject:Y,isArray:G,isFunction:N,noop:Ri},wn={find:Ki,closest:Ji,css:Fi,addClass:Bi,hasClass:Wi,removeClass:ji,attr:Zi,removeAttr:Gi,append:ge,remove:de,empty:pe,html:me,width:te,height:ie,scrollTop:Yi,scrollLeft:qi,offset:ki,offsetParent:Xi,position:Ui,on:ve,off:xe,show:Ve,hide:Ne,anim:He,animate:_e,fadeTo:Ie,fadeIn:Ae};r.extend(xn);r.fn.extend(wn);var g=r;var Oe={draggable:!0,resizable:!0,movable:!0,keyboard:!0,title:!0,modalWidth:320,modalHeight:320,fixedModalSize:!1,initMaximized:!1,gapThreshold:.02,ratioThreshold:.1,minRatio:.05,maxRatio:16,headerToolbar:["maximize","close"],footerToolbar:["zoomIn","zoomOut","prev","fullscreen","next","actualSize","rotateRight"],icons:{minimize:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M20,14H4V10H20"></path>
      </svg>`,maximize:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M4,4H20V20H4V4M6,8V18H18V8H6Z"></path>
      </svg>`,close:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M13.46,12L19,17.54V19H17.54L12,13.46L6.46,19H5V17.54L10.54,12
        L5,6.46V5H6.46L12,10.54L17.54,5H19V6.46L13.46,12Z"></path>
      </svg>`,zoomIn:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M15.5,14L20.5,19L19,20.5L14,15.5V14.71L13.73,14.43
        C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3A6.5,6.5 0 0,1 16,9.5
        C16,11.11 15.41,12.59 14.43,13.73L14.71,14H15.5M9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5
        C7,5 5,7 5,9.5C5,12 7,14 9.5,14M12,10H10V12H9V10H7V9H9V7H10V9H12V10Z"></path>
      </svg>`,zoomOut:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M15.5,14H14.71L14.43,13.73C15.41,12.59 16,11.11 16,9.5
        A6.5,6.5 0 0,0 9.5,3A6.5,6.5 0 0,0 3,9.5A6.5,6.5 0 0,0 9.5,16
        C11.11,16 12.59,15.41 13.73,14.43L14,14.71V15.5L19,20.5L20.5,19L15.5,14M9.5,14
        C7,14 5,12 5,9.5C5,7 7,5 9.5,5C12,5 14,7 14,9.5C14,12 12,14 9.5,14M7,9H12V10H7V9Z"></path>
      </svg>`,prev:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M6,18V6H8V18H6M9.5,12L18,6V18L9.5,12Z"></path>
      </svg>`,next:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M16,18H18V6H16M6,18L14.5,12L6,6V18Z"></path>
      </svg>`,fullscreen:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M8.5,12.5L11,15.5L14.5,11L19,17H5M23,18V6A2,2 0 0,0 21,4H3
        A2,2 0 0,0 1,6V18A2,2 0 0,0 3,20H21A2,2 0 0,0 23,18Z"></path>
      </svg>`,actualSize:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M9.5,13.09L10.91,14.5L6.41,19H10V21H3V14H5V17.59L9.5,13.09
        M10.91,9.5L9.5,10.91L5,6.41V10H3V3H10V5H6.41L10.91,9.5M14.5,13.09L19,17.59V14H21V21H14V19
        H17.59L13.09,14.5L14.5,13.09M13.09,9.5L17.59,5H14V3H21V10H19V6.41L14.5,10.91
        L13.09,9.5Z"></path>
      </svg>`,rotateLeft:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M13,4.07V1L8.45,5.55L13,10V6.09C15.84,6.57 18,9.03 18,12
        C18,14.97 15.84,17.43 13,17.91V19.93C16.95,19.44 20,16.08 20,12C20,7.92 16.95,4.56 13,4.07
        M7.1,18.32C8.26,19.22 9.61,19.76 11,19.93V17.9C10.13,17.75 9.29,17.41 8.54,16.87L7.1,18.32
        M6.09,13H4.07C4.24,14.39 4.79,15.73 5.69,16.89L7.1,15.47C6.58,14.72 6.23,13.88 6.09,13
        M7.11,8.53L5.7,7.11C4.8,8.27 4.24,9.61 4.07,11H6.09C6.23,10.13 6.58,9.28 7.11,8.53Z"></path>
      </svg>`,rotateRight:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M16.89,15.5L18.31,16.89C19.21,15.73 19.76,14.39 19.93,13H17.91
        C17.77,13.87 17.43,14.72 16.89,15.5M13,17.9V19.92C14.39,19.75 15.74,19.21 16.9,18.31
        L15.46,16.87C14.71,17.41 13.87,17.76 13,17.9M19.93,11C19.76,9.61 19.21,8.27 18.31,7.11
        L16.89,8.53C17.43,9.28 17.77,10.13 17.91,11M15.55,5.55L11,1V4.07C7.06,4.56 4,7.92 4,12
        C4,16.08 7.05,19.44 11,19.93V17.91C8.16,17.43 6,14.97 6,12C6,9.03 8.16,6.57 11,6.09V10
        L15.55,5.55Z"></path>
      </svg>`},i18n:{minimize:"Minimize",maximize:"Maximize (Alt+X)",close:"Close (Q)",zoomIn:"Zoom-in (+)",zoomOut:"Zoom-out (-)",prev:"Prev (\u2190)",next:"Next (\u2192)",fullscreen:"Fullscreen (F)",actualSize:"Actual-size (Ctrl+Alt+0)",rotateLeft:"Rotate-left (Ctrl+,)",rotateRight:"Rotate-right (Ctrl+.)"},multiInstances:!0,initAnimation:!0,animationDuration:400,animationEasing:"ease-in-out",fixedModalPos:!1,zIndex:1090,dragHandle:null,callbacks:{beforeOpen:g.noop,opened:g.noop,beforeClose:g.noop,closed:g.noop,beforeChange:g.noop,changed:g.noop},index:0,progressiveLoading:!0,appendTo:"body",customButtons:{},positionFixed:!0,initModalPos:null,errorMsg:""};var Xt=window.document;function Pe(t,i){let e=null;return function(){let n=this,o=arguments;clearTimeout(e),e=setTimeout(function(){t.apply(n,o)},i)}}function Re(t,i,e){let n=new Image;n.onload=function(){i(n)},n.onerror=function(){e(n)},n.src=t}function Fe(t){t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}function We(t){let i=/^.*?\/*([^/?]*)\.[a-z]+(\?.+|$)/gi;return t.replace(i,"$1")}function pt(t,i,e,n){let o=n?t.h:t.w,s=n?t.w:t.h;(s>i.h||o>i.w)&&e.addClass("is-grab"),s<=i.h&&o<=i.w&&e.removeClass("is-grab")}function Dt(){return!!("ontouchstart"in window||window.DocumentTouch&&Xt instanceof window.DocumentTouch)}function mt(t){return/^(?:body|html)$/i.test(t.nodeName)}function gt(t,i){return i.reduce((e,n)=>e+parseFloat(t.css(n)),0)}function tt(t){return t.css("box-sizing")==="border-box"}function Vt(t,i,e,n,o){let s=1;return o?s=Math.min(e/i,n/t,1):s=Math.min(e/t,n/i,1),s}var vt=g(window),I=g(Xt),F="click",Zt="resize",Be="keydown",je="wheel mousewheel DOMMouseScroll",ht=Dt()?"touchstart":"mousedown",X=Dt()?"touchmove":"mousemove",Z=Dt()?"touchend":"mouseup",u="photoviewer",C="."+u,x="."+u,_={isMoving:!1,isResizing:!1,zIndex:0};function ke(t,i,e){let n=0,o=0,s=0,a=0,l=h=>{if(h=h||window.event,t[0].focus(),g(h.target).closest(e).length)return!0;this.options.multiInstances&&t.css("z-index",++_.zIndex),n=h.type==="touchstart"?h.targetTouches[0].pageX:h.clientX,o=h.type==="touchstart"?h.targetTouches[0].pageY:h.clientY,s=parseFloat(t.css("left")),a=parseFloat(t.css("top")),t.css({left:s,top:a,right:"",bottom:""}),I.on(X+x,c).on(Z+x,d)},c=h=>{if(h=h||window.event,h.preventDefault(),!_.isMoving&&!_.isResizing&&!this.isMaximized){let w=h.type==="touchmove"?h.targetTouches[0].pageX:h.clientX,f=h.type==="touchmove"?h.targetTouches[0].pageY:h.clientY,v=w-n,M=f-o;t.css({left:v+s,top:M+a})}},d=()=>{I.off(X+x,c).off(Z+x,d)};g(i).on(ht+x,l)}var Ue=`html, body, .${u}-modal, .${u}-stage, .${u}-button, .${u}-resizable-handle`;function Ye(t,i){let e=0,n=0,o=0,s=0,a=0,l=0,c=0,d=f=>{f=f||window.event,f.preventDefault();let v=i.width(),M=i.height(),p=t.width(),E=t.height();e=f.type==="touchstart"?f.targetTouches[0].pageX:f.clientX,n=f.type==="touchstart"?f.targetTouches[0].pageY:f.clientY,c=this.isRotated?(v-M)/2:0,a=this.isRotated?M-p:v-p,l=this.isRotated?v-E:M-E,_.isMoving=a>0||l>0,o=i.position().left-c,s=i.position().top+c,t.hasClass("is-grab")&&g(Ue).addClass("is-grabbing"),I.on(X+x,h).on(Z+x,w)},h=f=>{f=f||window.event,f.preventDefault();let v=f.type==="touchmove"?f.targetTouches[0].pageX:f.clientX,M=f.type==="touchmove"?f.targetTouches[0].pageY:f.clientY,p=v-e,E=M-n,z=p+o,m=E+s;l>0?E+s>c?m=c:E+s<-l+c&&(m=-l+c):m=s,a>0?p+o>-c?z=-c:p+o<-a-c&&(z=-a-c):z=o,i.css({left:z,top:m}),g.extend(this.imageData,{left:z,top:m})},w=()=>{I.off(X+x,h).off(Z+x,w),_.isMoving=!1,g(Ue).removeClass("is-grabbing")};t.on(ht+x,d)}var qe=`html, body, .${u}-modal, .${u}-stage, .${u}-button`;function Xe(t,i,e,n){let o=g(`<div class="${u}-resizable-handle ${u}-resizable-handle-e"></div>`),s=g(`<div class="${u}-resizable-handle ${u}-resizable-handle-w"></div>`),a=g(`<div class="${u}-resizable-handle ${u}-resizable-handle-s"></div>`),l=g(`<div class="${u}-resizable-handle ${u}-resizable-handle-n"></div>`),c=g(`<div class="${u}-resizable-handle ${u}-resizable-handle-se"></div>`),d=g(`<div class="${u}-resizable-handle ${u}-resizable-handle-sw"></div>`),h=g(`<div class="${u}-resizable-handle ${u}-resizable-handle-ne"></div>`),w=g(`<div class="${u}-resizable-handle ${u}-resizable-handle-nw"></div>`),f={e:o,s:a,se:c,n:l,w:s,nw:w,ne:h,sw:d};t.append(o,s,a,l,c,d,h,w);let v=0,M=0,p={w:0,h:0,x:0,y:0},E={w:0,h:0,x:0,y:0},z={w:0,h:0,x:0,y:0},m=0,B=0,j=0,it="",{modalWidth:O,modalHeight:P}=n,en=(T,y,$)=>{let S=-y+p.w>O?y+p.x:p.x+p.w-O,H=-$+p.h>P?$+p.y:p.y+p.h-P;return{e:{width:Math.max(y+p.w,O)},s:{height:Math.max($+p.h,P)},se:{width:Math.max(y+p.w,O),height:Math.max($+p.h,P)},w:{width:Math.max(-y+p.w,O),left:S},n:{height:Math.max(-$+p.h,P),top:H},nw:{width:Math.max(-y+p.w,O),height:Math.max(-$+p.h,P),top:H,left:S},ne:{width:Math.max(y+p.w,O),height:Math.max(-$+p.h,P),top:H},sw:{width:Math.max(-y+p.w,O),height:Math.max($+p.h,P),left:S}}[T]},nn=(T,y,$)=>{let S=y+p.w>O?E.w-B+y-m:O-(p.w-E.w)-B-m,H=$+p.h>P?E.h-j+$+m:P-(p.h-E.h)-j+m,L=-y+p.w>O?E.w-B-y-m:O-(p.w-E.w)-B-m,V=-$+p.h>P?E.h-j-$+m:P-(p.h-E.h)-j+m,xt=e.position().left,wt=e.position().top,Nt=(S>0?xt:Math.min(xt,0))-m,It=(H>0?wt:Math.min(wt,0))+m,At=(L>0?xt:Math.min(xt,0))-m,Ot=(V>0?wt:Math.min(wt,0))+m;return{e:{left:S>=-m?(S-m)/2:Math.max(Nt,S)},s:{top:H>=m?(H+m)/2:Math.max(It,H)},se:{top:H>=m?(H+m)/2:Math.max(It,H),left:S>=-m?(S-m)/2:Math.max(Nt,S)},w:{left:L>=-m?(L-m)/2:Math.max(At,L)},n:{top:V>=m?(V+m)/2:Math.max(Ot,V)},nw:{top:V>=m?(V+m)/2:Math.max(Ot,V),left:L>=-m?(L-m)/2:Math.max(At,L)},ne:{top:V>=m?(V+m)/2:Math.max(Ot,V),left:S>=-m?(S-m)/2:Math.max(Nt,S)},sw:{top:H>=m?(H+m)/2:Math.max(It,H),left:L>=-m?(L-m)/2:Math.max(At,L)}}[T]},on=(T,y)=>{y=y||window.event,y.preventDefault(),_.isResizing=!0,v=y.type==="touchstart"?y.targetTouches[0].pageX:y.clientX,M=y.type==="touchstart"?y.targetTouches[0].pageY:y.clientY,p={w:t.width()+(tt(t)?this._modalEdgeValue.horizontal:0),h:t.height()+(tt(t)?this._modalEdgeValue.vertical:0),x:t.position().left,y:t.position().top},E={w:i.width(),h:i.height(),x:i.position().left,y:i.position().top},z={w:e.width(),h:e.height(),x:e.position().left,y:e.position().top},m=this.isRotated?(z.w-z.h)/2:0,B=this.isRotated?z.h:z.w,j=this.isRotated?z.w:z.h,it=T,g(qe).css("cursor",T+"-resize"),I.on(X+x,Gt).on(Z+x,Kt)},Gt=T=>{if(T=T||window.event,T.preventDefault(),!this.isMaximized){let y=T.type==="touchmove"?T.targetTouches[0].pageX:T.clientX,$=T.type==="touchmove"?T.targetTouches[0].pageY:T.clientY,S=y-v,H=$-M,L=en(it,S,H);t.css(L);let V=nn(it,S,H);e.css(V)}},Kt=()=>{I.off(X+x,Gt).off(Z+x,Kt);let T=i.width(),y=i.height();_.isResizing&&pt({w:B,h:j},{w:T,h:y},i),_.isResizing=!1,g(qe).css("cursor","");let{originalWidth:$,originalHeight:S}=this.imageData,H=Vt($,S,T,y,this.isRotated),L=$*H,V=S*H;g.extend(this.imageData,{initWidth:L,initHeight:V,initLeft:(T-L)/2,initTop:(y-V)/2})};g.each(f,function(T,y){y.on(ht+x,function($){on(T,$)})})}var Ze=(()=>{class t{static instances=[];isOpened=!1;isMaximized=!1;isRotated=!1;rotationDegree=0;imageData={};modalData={width:null,height:null,left:null,top:null};prevIndex=null;_lastTimestamp=0;constructor(e,n){this.init(e,n)}init(e,n){this.options=g.extend(!0,{},Oe,n),n&&g.isArray(n.footerToolbar)&&(this.options.footerToolbar=n.footerToolbar),n&&g.isArray(n.headerToolbar)&&(this.options.headerToolbar=n.headerToolbar),_.zIndex=_.zIndex===0?this.options.zIndex:_.zIndex,this.open(),this.images=e,this.index=this.options.index,this._loadImage(this.index),this.options.draggable&&this.draggable(this.$photoviewer,this.dragHandle,C+"-button"),this.options.movable&&this.movable(this.$stage,this.$image),this.options.resizable&&this.resizable(this.$photoviewer,this.$stage,this.$image,this.options)}_createBtns(e){let n=["minimize","maximize","close","zoomIn","zoomOut","prev","next","fullscreen","actualSize","rotateLeft","rotateRight"],o="";return g.each(e,(s,a)=>{let l=`${u}-button ${u}-button-${a}`;n.indexOf(a)>=0?o+=`<button class="${l}" title="${this.options.i18n[a]}">
          ${this.options.icons[a]}
          </button>`:this.options.customButtons[a]&&(o+=`<button class="${l}" title="${this.options.customButtons[a].title||""}">
          ${this.options.customButtons[a].text}
          </button>`)}),o}_createTitle(){return this.options.title?`<div class="${u}-title"></div>`:""}_createTemplate(){return`<div class="${u}-modal" tabindex="0" role="dialog">
        <div class="${u}-inner">
          <div class="${u}-header">
            <div class="${u}-toolbar ${u}-toolbar-header">
            ${this._createBtns(this.options.headerToolbar)}
            </div>
            ${this._createTitle()}
          </div>
          <div class="${u}-stage">
            <img class="${u}-image" src="" alt="" />
          </div>
          <div class="${u}-footer">
            <div class="${u}-toolbar ${u}-toolbar-footer">
            ${this._createBtns(this.options.footerToolbar)}
            </div>
          </div>
        </div>
      </div>`.replace(/>\s+</g,"><")}_build(){let e=this._createTemplate(),n=g(e);this.$photoviewer=n,this.$stage=n.find(C+"-stage"),this.$title=n.find(C+"-title"),this.$image=n.find(C+"-image"),this.$close=n.find(C+"-button-close"),this.$maximize=n.find(C+"-button-maximize"),this.$minimize=n.find(C+"-button-minimize"),this.$zoomIn=n.find(C+"-button-zoomIn"),this.$zoomOut=n.find(C+"-button-zoomOut"),this.$actualSize=n.find(C+"-button-actualSize"),this.$fullscreen=n.find(C+"-button-fullscreen"),this.$rotateLeft=n.find(C+"-button-rotateLeft"),this.$rotateRight=n.find(C+"-button-rotateRight"),this.$prev=n.find(C+"-button-prev"),this.$next=n.find(C+"-button-next"),this.$photoviewer.css("z-index",_.zIndex),this.options.positionFixed&&this.$photoviewer.css({position:"fixed"}),!this.options.dragHandle||this.options.dragHandle===C+"-modal"?this.dragHandle=this.$photoviewer:this.dragHandle=this.$photoviewer.find(this.options.dragHandle),g(this.options.appendTo).eq(0).append(this.$photoviewer),this._stageEdgeValue={horizontal:gt(this.$stage,["left","right","border-left-width","border-right-width"]),vertical:gt(this.$stage,["top","bottom","border-top-width","border-bottom-width"])},this._modalEdgeValue={horizontal:gt(this.$photoviewer,["padding-left","padding-right","border-left-width","border-right-width"]),vertical:gt(this.$photoviewer,["padding-top","padding-bottom","border-top-width","border-bottom-width"])},this._addEvents(),this._addCustomButtonEvents()}open(){this._triggerHook("beforeOpen",this),!this.options.multiInstances&&t.instances.length>0&&t.instances[0].close(),this._build(),this._setInitModalPos(),t.instances.push(this),this._triggerHook("opened",this)}close(){this._triggerHook("beforeClose",this),this.$photoviewer.remove(),t.instances=t.instances.filter(e=>e!==this),t.instances.length===0&&(_.zIndex=this.options.zIndex,vt.off(Zt+x)),this._triggerHook("closed",this)}_getOffsetParentData(){let e=g(this.options.appendTo)[0];return{width:this.options.positionFixed||mt(e)?vt.width():e.clientWidth,height:this.options.positionFixed||mt(e)?vt.height():e.clientHeight,scrollLeft:this.options.positionFixed?0:mt(e)?I.scrollLeft():e.scrollLeft,scrollTop:this.options.positionFixed?0:mt(e)?I.scrollTop():e.scrollTop}}_setModalToCenter(){let e,n,o,s,a=0,l=0;if(tt(this.$photoviewer)||(a+=this._modalEdgeValue.horizontal,l+=this._modalEdgeValue.vertical),g.isPlainObject(this.options.initModalPos))e=this.options.initModalPos.left,n=this.options.initModalPos.top,o=this.options.initModalPos.right,s=this.options.initModalPos.bottom;else{let d=this._getOffsetParentData();e=(d.width-this.options.modalWidth-a)/2+d.scrollLeft,n=(d.height-this.options.modalHeight-l)/2+d.scrollTop}let c={width:this.modalData.width||this.options.modalWidth,height:this.modalData.height||this.options.modalHeight,left:this.modalData.left||e,top:this.modalData.top||n,right:this.modalData.right||o,bottom:this.modalData.bottom||s};this.$photoviewer.css(c)}_setInitModalPos(){this.options.initMaximized?(this.maximize(),this.isOpened=!0):this._setModalToCenter(),this.$photoviewer[0].focus()}_setModalSize(){let e=this.imageData.originalWidth+this._stageEdgeValue.horizontal,n=this.imageData.originalHeight+this._stageEdgeValue.vertical,o=0,s=0;tt(this.$photoviewer)?(e+=this._modalEdgeValue.horizontal,n+=this._modalEdgeValue.vertical):(o+=this._modalEdgeValue.horizontal,s+=this._modalEdgeValue.vertical);let a=this._getOffsetParentData(),l=Math.max(this.options.gapThreshold,0)+1,c=Math.min(a.width/((e+o)*l),a.height/((n+s)*l),1),d=Math.max(e*c,this.options.modalWidth),h=Math.max(n*c,this.options.modalHeight);d=this.options.fixedModalSize?this.options.modalWidth:Math.round(d),h=this.options.fixedModalSize?this.options.modalHeight:Math.round(h);let w,f,v,M;g.isPlainObject(this.options.initModalPos)?(w=this.options.initModalPos.left,f=this.options.initModalPos.top,v=this.options.initModalPos.right,M=this.options.initModalPos.bottom):(w=(a.width-d-o)/2+a.scrollLeft,f=(a.height-h-s)/2+a.scrollTop);let p={width:d,height:h,left:w,top:f,right:v,bottom:M};this.options.initAnimation?this.$photoviewer.animate(p,this.options.animationDuration,this.options.animationEasing,()=>{this._setImageSize()}):(this.$photoviewer.css(p),this._setImageSize()),this.isOpened=!0}_setImageSize(){let e=this.$stage.width(),n=this.$stage.height(),{originalWidth:o,originalHeight:s}=this.imageData,a=Vt(o,s,e,n,this.isRotated),l=o*a,c=s*a;this.$image.css({width:Math.round(l),height:Math.round(c),left:(e-Math.round(l))/2,top:(n-Math.round(c))/2}),g.extend(this.imageData,{initWidth:l,initHeight:c,initLeft:(e-l)/2,initTop:(n-c)/2,width:l,height:c,left:(e-l)/2,top:(n-c)/2}),pt({w:l,h:c},{w:e,h:n},this.$stage,this.isRotated),this.imageLoaded||(this.$photoviewer.find(C+"-loader").remove(),this.$stage.removeClass(u+"-align-center"),this.options.initAnimation&&!this.options.progressiveLoading&&this.$image.fadeIn(),this.imageLoaded=!0,this._triggerHook("changed",[this,this.index]))}_loadImage(e){this.imageLoaded=!1,this._triggerHook("beforeChange",[this,this.prevIndex]),this._removeErrorMsg(),this.$image.removeAttr("style").attr("src",""),this.isRotated=!1,this.rotationDegree=0,this.$photoviewer.append(`<div class="${u}-loader"></div>`),this.$stage.addClass(u+"-align-center"),this.options.initAnimation&&!this.options.progressiveLoading&&this.$image.hide();let n=this.images[e]?.src==null?"":this.images[e].src.toString();this.$image.attr("src",n);let o=this.images[e]?.title||We(n);this.options.title&&this.$title.html(o),this.$image.attr("alt",o),Re(n,s=>{this.imageData={originalWidth:s.width,originalHeight:s.height},this.isMaximized||this.isOpened&&this.options.fixedModalPos?this._setImageSize():this._setModalSize()},()=>{this.$photoviewer.find(C+"-loader").remove(),this._triggerHook("changed",[this,e]),this._setErrorMsg()})}_setErrorMsg(){let e=g.isFunction(this.options.errorMsg)?this.options.errorMsg(this,this.index):this.options.errorMsg;e&&(this.$stage.append(`<span class="${u}-error-msg">${e}</span>`),this.$image.addClass(u+"-image-error"))}_removeErrorMsg(){this.$stage.find(C+"-error-msg").remove(),this.$image.removeClass(u+"-image-error")}jump(e){let n=Date.now();if(n-this._lastTimestamp>=this.options.animationDuration){let o=this.index+e;this.jumpTo(o),this._lastTimestamp=n}}jumpTo(e){this.prevIndex=this.index;let n=e%this.images.length;n<=0&&(n=(n+this.images.length)%this.images.length),this.index=n,this._loadImage(this.index)}_wheel(e){e.preventDefault();let n=1;e.deltaY?n=e.deltaY>0?1:-1:e.wheelDelta?n=-e.wheelDelta/120:e.detail&&(n=e.detail>0?1:-1);let o=-n*this.options.ratioThreshold,s={x:e.clientX-this.$stage.offset().left+I.scrollLeft(),y:e.clientY-this.$stage.offset().top+I.scrollTop()};this.zoom(o,s)}zoom(e,n){e=e<0?1/(1-e):1+e,e=this.$image.width()/this.imageData.originalWidth*e,!(e>this.options.maxRatio||e<this.options.minRatio)&&this.zoomTo(e,n)}zoomTo(e,n){let{originalWidth:o,originalHeight:s,width:a,height:l,left:c,top:d,initWidth:h}=this.imageData,w=this.$stage.width(),f=this.$stage.height();n===void 0&&(n={x:w/2,y:f/2});let v=o*e,M=s*e,p=n.x-(n.x-c)/a*v,E=n.y-(n.y-d)/l*M,z=this.isRotated?(v-M)/2:0,m=this.isRotated?M:v,B=this.isRotated?v:M,j=w-v,it=f-M;m<=w?p=j/2:p=p>-z?-z:Math.max(p,j+z),B<=f?E=it/2:E=E>z?z:Math.max(E,it-z),Math.abs(h-v)<h*.05?this._setImageSize():(this.$image.css({width:Math.round(v),height:Math.round(M),left:Math.round(p),top:Math.round(E)}),pt({w:Math.round(m),h:Math.round(B)},{w,h:f},this.$stage)),g.extend(this.imageData,{width:v,height:M,left:p,top:E})}rotate(e){this.rotationDegree=this.rotationDegree+e,this.rotationDegree/90%2===0?this.isRotated=!1:this.isRotated=!0,this.rotateTo(this.rotationDegree)}rotateTo(e){this.$image.css({transform:"rotate("+e+"deg)"}),this._setImageSize()}maximize(){this.$photoviewer.addClass(u+"-maximized"),this.$photoviewer.css({width:"auto",height:"auto",top:0,right:0,bottom:0,left:0}),this.isMaximized=!0}exitMaximize(){this.$photoviewer.removeClass(u+"-maximized"),this._setModalToCenter(),this.isMaximized=!1}toggleMaximize(){if(this.isMaximized)this.exitMaximize();else{let e=this.$photoviewer.width(),n=this.$photoviewer.height();tt(this.$photoviewer)&&(e+=this._modalEdgeValue.horizontal,n+=this._modalEdgeValue.vertical),this.modalData={width:e,height:n,left:parseFloat(this.$photoviewer.css("left")),top:parseFloat(this.$photoviewer.css("top"))},this.maximize()}this._setImageSize(),this.$photoviewer[0].focus()}fullscreen(){Fe(this.$photoviewer[0]),this.$photoviewer[0].focus()}resize(){this.isOpened&&(this.isMaximized?this._setImageSize():this._setModalSize())}_keydown(e){if(!this.options.keyboard)return;let n=e.keyCode||e.which||e.charCode,o=e.ctrlKey||e.metaKey,s=e.altKey;switch(n){case 37:this.jump(-1);break;case 39:this.jump(1);break;case 187:this.zoom(this.options.ratioThreshold*3,{x:this.$stage.width()/2,y:this.$stage.height()/2},e);break;case 189:this.zoom(-this.options.ratioThreshold*3,{x:this.$stage.width()/2,y:this.$stage.height()/2},e);break;case 61:this.zoom(this.options.ratioThreshold*3,{x:this.$stage.width()/2,y:this.$stage.height()/2},e);break;case 173:this.zoom(-this.options.ratioThreshold*3,{x:this.$stage.width()/2,y:this.$stage.height()/2},e);break;case 48:o&&s&&this.zoomTo(1,{x:this.$stage.width()/2,y:this.$stage.height()/2},e);break;case 188:o&&(e.preventDefault(),this.rotate(-90));break;case 190:o&&this.rotate(90);break;case 81:this.close();break;case 88:s&&this.toggleMaximize();break;case 70:this.fullscreen();break;default:}}_addEvents(){this.$close.on(F+x,()=>{this.close()}),this.$stage.on(je+x,e=>{this._wheel(e)}),this.$zoomIn.on(F+x,()=>{this.zoom(this.options.ratioThreshold*3)}),this.$zoomOut.on(F+x,()=>{this.zoom(-this.options.ratioThreshold*3)}),this.$actualSize.on(F+x,()=>{this.zoomTo(1)}),this.$prev.on(F+x,()=>{this.jump(-1)}),this.$next.on(F+x,()=>{this.jump(1)}),this.$rotateLeft.on(F+x,()=>{this.rotate(-90)}),this.$rotateRight.on(F+x,()=>{this.rotate(90)}),this.$maximize.on(F+x,()=>{this.toggleMaximize()}),this.$fullscreen.on(F+x,()=>{this.fullscreen()}),this.$photoviewer.on(Be+x,e=>{this._keydown(e)}),vt.on(Zt+x,Pe(()=>this.resize(),500))}_addCustomButtonEvents(){for(let e in this.options.customButtons)this.$photoviewer.find(C+"-button-"+e).on(F+x,n=>{this.options.customButtons[e].click.apply(this,[this,n])})}_triggerHook(e,n){this.options.callbacks[e]&&this.options.callbacks[e].apply(this,g.isArray(n)?n:[n])}}return t})();g.extend(Ze.prototype,{draggable:ke},{movable:Ye},{resizable:Xe});var Ge=Ze;var Ke=Ge;var Je=(()=>{let i=class i{constructor(n){this._elementRef=n,this.images=[],this.embed=!1}ngOnInit(){let{nativeElement:n}=this._elementRef;if(this.embed)this.options=Jt({appendTo:n,positionFixed:!1,modalWidth:n.clientWidth,modalHeight:n.clientHeight},this.options),this.initPhotoViewer();else if(this.images.length===0&&n.nodeName==="IMG"){let o=n;this.images=[{title:o.title||o.alt,src:o.src}]}}ngOnDestroy(){this.photoviewerInstance?.close()}onClick(n){n.preventDefault(),this.embed||this.initPhotoViewer()}initPhotoViewer(){this.photoviewerInstance=new Ke(this.images,this.options)}};i.\u0275fac=function(o){return new(o||i)(si(ni))},i.\u0275dir=ei({type:i,selectors:[["","mtxPhotoviewer",""]],hostBindings:function(o,s){o&1&&ci("click",function(l){return s.onClick(l)})},inputs:{images:[yt.None,"mtxPhotoviewerItems","images"],options:[yt.None,"mtxPhotoviewerOptions","options"],embed:[yt.HasDecoratorInputTransform,"mtxPhotoviewerEmbed","embed",vi]},exportAs:["mtxPhotoviewer"],standalone:!0,features:[ri]});let t=i;return t})(),Qe=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=ii({type:i}),i.\u0275inj=Qt({});let t=i;return t})();var En=t=>({index:t});function Tn(t,i){if(t&1&&(lt(0,"mat-grid-tile")(1,"mat-grid-tile-header")(2,"span",3),ft(3),et()(),Pt(4,"img",4),et()),t&2){let e=i.$implicit,n=i.$index,o=ui();bt(3),pi("Gallery Image: ",n+1,""),bt(),di("alt","Gallery Image ",n+1,""),ai("mtxPhotoviewerItems",o.images)("mtxPhotoviewerOptions",gi(6,En,n))("src",e.src,oi)}}var tn=(()=>{let i=class i{constructor(){this.dir="assets/images/pixabay/",this.images=[]}ngOnInit(){for(let n=1;n<=20;n++)this.images.push({title:n,src:this.dir+n+".jpg"})}};i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=ti({type:i,selectors:[["app-media-gallery"]],standalone:!0,features:[mi],decls:9,vars:0,consts:[["title","Media",1,"bg-pink-A100"],["href","https://github.com/nzbin/photoviewer","target","_blank"],["cols","4","rowHeight","1:1"],["matLine",""],["mtxPhotoviewer","",1,"w-full","h-full","object-cover","cursor-pointer",3,"mtxPhotoviewerItems","mtxPhotoviewerOptions","src","alt"]],template:function(o,s){o&1&&(Pt(0,"page-header",0),lt(1,"p"),ft(2," The media pictures are powered by "),lt(3,"a",1),ft(4,"PhotoViewer"),et(),ft(5,`, you can click the picture to enlarge it.
`),et(),lt(6,"mat-grid-list",2),li(7,Tn,5,8,"mat-grid-tile",null,hi),et()),o&2&&(bt(7),fi(s.images))},dependencies:[Ci,Mi,bi,Ei,xi,Ti,wi,Qe,Je,yi]});let t=i;return t})();var Qs=[{path:"gallery",component:tn}];export{Qs as routes};
